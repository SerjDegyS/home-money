{"ast":null,"code":"import { Message } from '../../../shared/models/message.model';\nimport { fadeStateTrigger } from '../../../shared/animations/fade.animation';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction BillCardComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassMapInterpolate1(\"alert alert-\", ctx_r0.message.type, \"\");\n    i0.ɵɵproperty(\"@fade\", undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.message.text, \" \");\n  }\n}\nfunction BillCardComponent_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\u20B4\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BillCardComponent_i_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\");\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassMapInterpolate1(\"fa fa-\", ctx_r2.bill.currency.toLowerCase(), \"\");\n  }\n}\nfunction BillCardComponent_ng_template_12_i_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"i\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r6.bill.currency, \" \");\n  }\n}\nfunction BillCardComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, BillCardComponent_ng_template_12_i_0_Template, 2, 1, \"i\", 18);\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.bill.currency !== \"UAH\");\n  }\n}\nfunction BillCardComponent_div_21_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\u20B4\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BillCardComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8);\n    i0.ɵɵelement(2, \"i\");\n    i0.ɵɵtemplate(3, BillCardComponent_div_21_span_3_Template, 2, 0, \"span\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 12)(5, \"div\", 13);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"progress\", 14)(9, \"div\", 15);\n    i0.ɵɵelement(10, \"span\", 16);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const c_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMapInterpolate1(\"fa fa-\", c_r7.curIcon, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", c_r7.curIcon === \"uah\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 5, c_r7.val, \"1.2\"));\n  }\n}\nexport let BillCardComponent = /*#__PURE__*/(() => {\n  class BillCardComponent {\n    constructor() {\n      this.currenciesMap = ['USD', 'EUR', 'UAH'];\n      this.message = new Message();\n    }\n    ngOnInit() {\n      // not to be duplicated currency\n      this.currenciesMap.splice(this.currenciesMap.indexOf(this.bill.currency), 1);\n      if (this.bill === null) {\n        this.message.showMessage('danger', 'Ошибка связи с сервером!', 5);\n      }\n      if (this.currency) {\n        const {\n          rates\n        } = this.currency;\n        this.currencies = this.currenciesMap.map(cur => {\n          const value = rates[cur] * this.bill.value;\n          return {\n            curIcon: cur.toLowerCase(),\n            val: value\n          };\n        });\n        console.log(this.currencies);\n        // this.dollar = rates['USD'] * this.bill.value;\n        // this.euro = rates['EUR'] * this.bill.value;\n      }\n    }\n  }\n\n  BillCardComponent.ɵfac = function BillCardComponent_Factory(t) {\n    return new (t || BillCardComponent)();\n  };\n  BillCardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: BillCardComponent,\n    selectors: [[\"degys-bill-card\"]],\n    inputs: {\n      bill: \"bill\",\n      currency: \"currency\"\n    },\n    decls: 22,\n    vars: 9,\n    consts: [[1, \"col\", \"col-xs-12\", \"col-sm-12\", \"col-md-6\", \"col-xl-5\", \"stats-col\"], [3, \"class\", 4, \"ngIf\"], [1, \"card\", \"stats\", 2, \"height\", \"291px\"], [1, \"card-block\"], [1, \"title-block\"], [1, \"title\"], [1, \"row\", \"row-sm\", \"stats-container\"], [1, \"col-xs-12\", \"stat-col\"], [1, \"stat-icon\"], [4, \"ngIf\"], [3, \"class\", 4, \"ngIf\", \"ngIfElse\"], [\"anotherCur\", \"\"], [1, \"stat\"], [1, \"value\"], [\"value\", \"100\", \"max\", \"100\", 1, \"progress\", \"stat-progress\"], [1, \"progress\"], [1, \"progress-bar\", 2, \"width\", \"100%\"], [\"class\", \"col-xs-12 stat-col\", 4, \"ngFor\", \"ngForOf\"], [\"style\", \"font-size: smaller; font-weight: bold\", 4, \"ngIf\"], [2, \"font-size\", \"smaller\", \"font-weight\", \"bold\"]],\n    template: function BillCardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, BillCardComponent_div_1_Template, 2, 5, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h4\", 5);\n        i0.ɵɵtext(6, \"\\u0421\\u0447\\u0435\\u0442\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 7)(9, \"div\", 8);\n        i0.ɵɵtemplate(10, BillCardComponent_span_10_Template, 2, 0, \"span\", 9);\n        i0.ɵɵtemplate(11, BillCardComponent_i_11_Template, 1, 3, \"i\", 10);\n        i0.ɵɵtemplate(12, BillCardComponent_ng_template_12_Template, 1, 1, \"ng-template\", null, 11, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 12)(15, \"div\", 13);\n        i0.ɵɵtext(16);\n        i0.ɵɵpipe(17, \"number\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"progress\", 14)(19, \"div\", 15);\n        i0.ɵɵelement(20, \"span\", 16);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(21, BillCardComponent_div_21_Template, 11, 8, \"div\", 17);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        const _r3 = i0.ɵɵreference(13);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.message.text);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngIf\", ctx.bill.currency === \"UAH\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.bill.currency === \"USD\" || ctx.bill.currency === \"EUR\" || ctx.bill.currency === \"RUB\")(\"ngIfElse\", _r3);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(17, 6, ctx.bill.value, \"1.2\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.currencies);\n      }\n    },\n    dependencies: [i1.NgForOf, i1.NgIf, i1.DecimalPipe],\n    data: {\n      animation: [fadeStateTrigger]\n    }\n  });\n  return BillCardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}